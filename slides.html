<!doctype html>
<html>

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
	<title>Inventory Optimisation Presentation</title>

	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.2.1/reveal.min.css" />
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.2.1/theme/sky.min.css" />
	<style>
		pre {
			width: fit-content !important;
		}

		img {
			max-height: 80vh !important;
		}
	</style>
</head>

<body>
	<div class="reveal">
		<div class="slides">
			<section data-markdown data-auto-animate>
				<script type="text/template">
					# Inventory Optimisation
					Luke Storry
 					---
					### Outline
					In this lunch and learn we will be talking through some of the techniques used on a recent project
					-  a discrete-event-simulation to forecast the availability of stock inventory
					-  python best practises 
					-  (optional) using the Epsilon-Greedy RL algorithm to find optimised purchasing strategies
					---
					### Prior Experience
					üñê if:
					- seen python
					- used python
					- list comprehension
					- classes
					- generators
					- simpy
					---
					###  Client Problem
					- Having issues with Inventory management
					- Would like ____knowledge____ about impact of future plans
					- Could ____optimise____ future orders to save costs
					---
					### Why a Simulation?
					- have lots of domain knowledge, and full set of rules.
					- only have data about system, not outputs (could run supervised learning)
					---
					<iframe width="100%" height="500px" src="https://simpy.readthedocs.io/en/latest/">
					---
					### Discrete Event Simulation
					<svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1023.7999267578125 604.5188306274414" width="1023.7999267578125" height="604.5188306274414">
						<!-- svg-source:excalidraw --></rect><g stroke-linecap="round" transform="translate(10 300.56668186187744) rotate(0 106 41.99999237060547)"><path d="M0 0 C71.12 0, 142.23 0, 212 0 M0 0 C42.43 0, 84.86 0, 212 0 M212 0 C212 26.94, 212 53.88, 212 84 M212 0 C212 16.97, 212 33.95, 212 84 M212 84 C149.07 84, 86.15 84, 0 84 M212 84 C149.93 84, 87.86 84, 0 84 M0 84 C0 57.79, 0 31.57, 0 0 M0 84 C0 51.69, 0 19.37, 0 0" stroke="#000000" stroke-width="1" fill="none"></path></g><g transform="translate(15 330.5666742324829) rotate(0 101 12)"><text x="101" y="19" font-family="Cascadia, Segoe UI Emoji" font-size="20px" fill="#000000" text-anchor="middle" style="white-space: pre;" direction="ltr">Initialisation</text></g><g stroke-linecap="round"><g transform="translate(235.40000152587896 342.27331916884407) rotate(0 277.99999237060536 -2.90662662581434)"><path d="M0 0 C92.67 -0.97, 463.33 -4.84, 556 -5.81 M0 0 C92.67 -0.97, 463.33 -4.84, 556 -5.81" stroke="#000000" stroke-width="1" fill="none"></path></g><g transform="translate(235.40000152587896 342.27331916884407) rotate(0 277.99999237060536 -2.90662662581434)"><path d="M527.92 4.74 C538.67 0.7, 549.43 -3.34, 556 -5.81 M527.92 4.74 C535.7 1.82, 543.47 -1.11, 556 -5.81" stroke="#000000" stroke-width="1" fill="none"></path></g><g transform="translate(235.40000152587896 342.27331916884407) rotate(0 277.99999237060536 -2.90662662581434)"><path d="M527.7 -15.78 C538.54 -11.96, 549.38 -8.14, 556 -5.81 M527.7 -15.78 C535.54 -13.02, 543.38 -10.26, 556 -5.81" stroke="#000000" stroke-width="1" fill="none"></path></g></g><g transform="translate(411.4999999999999 314.5666742324829) rotate(0 41.5 12)"><text x="0" y="19" font-family="Cascadia, Segoe UI Emoji" font-size="20px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">Running</text></g><g stroke-linecap="round" transform="translate(801.7999267578125 288.96670627593994) rotate(0 106 41.99999237060547)"><path d="M0 0 C50.89 0, 101.77 0, 212 0 M0 0 C63.27 0, 126.53 0, 212 0 M212 0 C212 33.41, 212 66.82, 212 84 M212 0 C212 33.43, 212 66.87, 212 84 M212 84 C134.18 84, 56.37 84, 0 84 M212 84 C163.05 84, 114.1 84, 0 84 M0 84 C0 59.47, 0 34.94, 0 0 M0 84 C0 50.65, 0 17.29, 0 0" stroke="#000000" stroke-width="1" fill="none"></path></g><g transform="translate(806.7999267578125 318.9666986465454) rotate(0 101 12)"><text x="101" y="19" font-family="Cascadia, Segoe UI Emoji" font-size="20px" fill="#000000" text-anchor="middle" style="white-space: pre;" direction="ltr">Result</text></g><g stroke-linecap="round" transform="translate(365.4000244140625 10) rotate(0 106 41.99999237060547)"><path d="M0 0 C61.7 0, 123.41 0, 212 0 M0 0 C60.52 0, 121.05 0, 212 0 M212 0 C212 23.72, 212 47.44, 212 84 M212 0 C212 26.82, 212 53.64, 212 84 M212 84 C145.21 84, 78.43 84, 0 84 M212 84 C153.33 84, 94.66 84, 0 84 M0 84 C0 64.77, 0 45.55, 0 0 M0 84 C0 57.54, 0 31.08, 0 0" stroke="#000000" stroke-width="1" fill="none"></path></g><g transform="translate(370.4000244140625 39.99999237060547) rotate(0 101 12)"><text x="101" y="19" font-family="Cascadia, Segoe UI Emoji" font-size="20px" fill="#000000" text-anchor="middle" style="white-space: pre;" direction="ltr">Event 1</text></g><g stroke-linecap="round" transform="translate(300.79998779296875 156.9999542236328) rotate(0 106 41.99999237060547)"><path d="M0 0 C66.79 0, 133.57 0, 212 0 M0 0 C58.67 0, 117.34 0, 212 0 M212 0 C212 19.23, 212 38.45, 212 84 M212 0 C212 26.46, 212 52.92, 212 84 M212 84 C135.96 84, 59.92 84, 0 84 M212 84 C128.57 84, 45.14 84, 0 84 M0 84 C0 51.24, 0 18.48, 0 0 M0 84 C0 57.33, 0 30.66, 0 0" stroke="#000000" stroke-width="1" fill="none"></path></g><g transform="translate(305.79998779296875 186.99994659423828) rotate(0 101 12)"><text x="101" y="19" font-family="Cascadia, Segoe UI Emoji" font-size="20px" fill="#000000" text-anchor="middle" style="white-space: pre;" direction="ltr">Event 2</text></g><g stroke-linecap="round" transform="translate(479.199951171875 394.6000213623047) rotate(0 106 41.99999237060547)"><path d="M0 0 C53 0, 106 0, 212 0 M0 0 C69.26 0, 138.52 0, 212 0 M212 0 C212 23.6, 212 47.2, 212 84 M212 0 C212 17.76, 212 35.53, 212 84 M212 84 C138.47 84, 64.95 84, 0 84 M212 84 C157.91 84, 103.81 84, 0 84 M0 84 C0 65.34, 0 46.68, 0 0 M0 84 C0 53.81, 0 23.61, 0 0" stroke="#000000" stroke-width="1" fill="none"></path></g><g transform="translate(484.199951171875 424.60001373291016) rotate(0 101 12)"><text x="101" y="19" font-family="Cascadia, Segoe UI Emoji" font-size="20px" fill="#000000" text-anchor="middle" style="white-space: pre;" direction="ltr">Event 3</text></g><g stroke-linecap="round" transform="translate(244 477.80003356933594) rotate(0 106 41.99999237060547)"><path d="M0 0 C59.63 0, 119.26 0, 212 0 M0 0 C81.05 0, 162.1 0, 212 0 M212 0 C212 26.99, 212 53.98, 212 84 M212 0 C212 26.58, 212 53.17, 212 84 M212 84 C149.94 84, 87.88 84, 0 84 M212 84 C155.7 84, 99.41 84, 0 84 M0 84 C0 56.1, 0 28.21, 0 0 M0 84 C0 65.39, 0 46.79, 0 0" stroke="#000000" stroke-width="1" fill="none"></path></g><g transform="translate(249 507.8000259399414) rotate(0 101 12)"><text x="101" y="19" font-family="Cascadia, Segoe UI Emoji" font-size="20px" fill="#000000" text-anchor="middle" style="white-space: pre;" direction="ltr">Event 4</text></g><g stroke-linecap="round"><g transform="translate(558.7999877929688 109.00000762939453) rotate(0 25.27161174011229 -9.200004577636719)"><path d="M0 0 C3.2 2.4, 12.13 13.87, 19.2 14.4 C26.27 14.93, 37.2 8.8, 42.4 3.2 C47.6 -2.4, 51.33 -13.47, 50.4 -19.2 C49.47 -24.93, 41.07 -28.93, 36.8 -31.2 C32.53 -33.47, 26.8 -32.53, 24.8 -32.8 M0 0 C3.2 2.4, 12.13 13.87, 19.2 14.4 C26.27 14.93, 37.2 8.8, 42.4 3.2 C47.6 -2.4, 51.33 -13.47, 50.4 -19.2 C49.47 -24.93, 41.07 -28.93, 36.8 -31.2 C32.53 -33.47, 26.8 -32.53, 24.8 -32.8" stroke="#000000" stroke-width="1" fill="none"></path></g><g transform="translate(558.7999877929688 109.00000762939453) rotate(0 25.27161174011229 -9.200004577636719)"><path d="M30.51 -34.8 C28.31 -34.03, 26.11 -33.26, 24.8 -32.8 M30.51 -34.8 C29.33 -34.38, 28.15 -33.97, 24.8 -32.8" stroke="#000000" stroke-width="1" fill="none"></path></g><g transform="translate(558.7999877929688 109.00000762939453) rotate(0 25.27161174011229 -9.200004577636719)"><path d="M30.46 -30.66 C28.28 -31.48, 26.1 -32.31, 24.8 -32.8 M30.46 -30.66 C29.29 -31.1, 28.12 -31.54, 24.8 -32.8" stroke="#000000" stroke-width="1" fill="none"></path></g></g><g stroke-linecap="round"><g transform="translate(490.79998779296875 253.79999542236328) rotate(0 28.44322424316408 -3.3663829345703107)"><path d="M0 0 C2.53 2.8, 7.6 14.4, 15.2 16.8 C22.8 19.2, 38.67 18.13, 45.6 14.4 C52.53 10.67, 56.13 0.27, 56.8 -5.6 C57.47 -11.47, 54.27 -17.6, 49.6 -20.8 C44.93 -24, 32.27 -24.13, 28.8 -24.8 M0 0 C2.53 2.8, 7.6 14.4, 15.2 16.8 C22.8 19.2, 38.67 18.13, 45.6 14.4 C52.53 10.67, 56.13 0.27, 56.8 -5.6 C57.47 -11.47, 54.27 -17.6, 49.6 -20.8 C44.93 -24, 32.27 -24.13, 28.8 -24.8" stroke="#000000" stroke-width="1" fill="none"></path></g><g transform="translate(490.79998779296875 253.79999542236328) rotate(0 28.44322424316408 -3.3663829345703107)"><path d="M39.08 -27.34 C35.45 -26.44, 31.83 -25.55, 28.8 -24.8 M39.08 -27.34 C35.06 -26.34, 31.03 -25.35, 28.8 -24.8" stroke="#000000" stroke-width="1" fill="none"></path></g><g transform="translate(490.79998779296875 253.79999542236328) rotate(0 28.44322424316408 -3.3663829345703107)"><path d="M38.31 -20.13 C34.95 -21.78, 31.6 -23.43, 28.8 -24.8 M38.31 -20.13 C34.59 -21.96, 30.86 -23.79, 28.8 -24.8" stroke="#000000" stroke-width="1" fill="none"></path></g></g><g stroke-linecap="round"><g transform="translate(666 494.60001373291016) rotate(0 26.393612304687508 -8.915210937500007)"><path d="M0 0 C2.27 2.93, 8.27 15.6, 13.6 17.6 C18.93 19.6, 25.73 16, 32 12 C38.27 8, 48.27 0.93, 51.2 -6.4 C54.13 -13.73, 52.67 -27.07, 49.6 -32 C46.53 -36.93, 35.6 -35.33, 32.8 -36 M0 0 C2.27 2.93, 8.27 15.6, 13.6 17.6 C18.93 19.6, 25.73 16, 32 12 C38.27 8, 48.27 0.93, 51.2 -6.4 C54.13 -13.73, 52.67 -27.07, 49.6 -32 C46.53 -36.93, 35.6 -35.33, 32.8 -36" stroke="#000000" stroke-width="1" fill="none"></path></g><g transform="translate(666 494.60001373291016) rotate(0 26.393612304687508 -8.915210937500007)"><path d="M41.06 -38.52 C38.39 -37.71, 35.72 -36.89, 32.8 -36 M41.06 -38.52 C38.45 -37.73, 35.85 -36.93, 32.8 -36" stroke="#000000" stroke-width="1" fill="none"></path></g><g transform="translate(666 494.60001373291016) rotate(0 26.393612304687508 -8.915210937500007)"><path d="M40.75 -32.62 C38.18 -33.72, 35.61 -34.81, 32.8 -36 M40.75 -32.62 C38.24 -33.69, 35.73 -34.75, 32.8 -36" stroke="#000000" stroke-width="1" fill="none"></path></g></g><g stroke-linecap="round"><g transform="translate(424.4000244140625 577.8000259399414) rotate(0 33.67780493164065 -7.340609863281259)"><path d="M0 0 C3.33 2.67, 12.8 14.13, 20 16 C27.2 17.87, 35.33 16.13, 43.2 11.2 C51.07 6.27, 65.47 -6.8, 67.2 -13.6 C68.93 -20.4, 57.87 -26.67, 53.6 -29.6 C49.33 -32.53, 43.6 -30.93, 41.6 -31.2 M0 0 C3.33 2.67, 12.8 14.13, 20 16 C27.2 17.87, 35.33 16.13, 43.2 11.2 C51.07 6.27, 65.47 -6.8, 67.2 -13.6 C68.93 -20.4, 57.87 -26.67, 53.6 -29.6 C49.33 -32.53, 43.6 -30.93, 41.6 -31.2" stroke="#000000" stroke-width="1" fill="none"></path></g><g transform="translate(424.4000244140625 577.8000259399414) rotate(0 33.67780493164065 -7.340609863281259)"><path d="M47.21 -33.46 C45.85 -32.91, 44.49 -32.37, 41.6 -31.2 M47.21 -33.46 C45.23 -32.66, 43.25 -31.86, 41.6 -31.2" stroke="#000000" stroke-width="1" fill="none"></path></g><g transform="translate(424.4000244140625 577.8000259399414) rotate(0 33.67780493164065 -7.340609863281259)"><path d="M47.36 -29.33 C45.96 -29.78, 44.56 -30.23, 41.6 -31.2 M47.36 -29.33 C45.32 -29.99, 43.29 -30.65, 41.6 -31.2" stroke="#000000" stroke-width="1" fill="none"></path></g></g><g stroke-linecap="round"><g transform="translate(249.20001220703125 342.60001373291016) rotate(0 49.09120849609374 -148.30000400543213)"><path d="M0 0 C0.4 -44.27, -14.93 -216.53, 2.4 -265.6 C19.73 -314.67, 87.07 -289.6, 104 -294.4 M0 0 C0.4 -44.27, -14.93 -216.53, 2.4 -265.6 C19.73 -314.67, 87.07 -289.6, 104 -294.4" stroke="#000000" stroke-width="1" fill="none"></path></g><g transform="translate(249.20001220703125 342.60001373291016) rotate(0 49.09120849609374 -148.30000400543213)"><path d="M75.46 -285.15 C85.28 -288.34, 95.1 -291.52, 104 -294.4 M75.46 -285.15 C81.18 -287.01, 86.9 -288.86, 104 -294.4" stroke="#000000" stroke-width="1" fill="none"></path></g><g transform="translate(249.20001220703125 342.60001373291016) rotate(0 49.09120849609374 -148.30000400543213)"><path d="M76.19 -305.66 C85.76 -301.79, 95.33 -297.91, 104 -294.4 M76.19 -305.66 C81.77 -303.41, 87.34 -301.15, 104 -294.4" stroke="#000000" stroke-width="1" fill="none"></path></g></g><g stroke-linecap="round"><g transform="translate(270.1295737995198 341.7999954223633) rotate(0 9.220805350870819 -75.96479248046876)"><path d="M-2.04 0 C-2.77 -23.2, -11.12 -114.8, -6.4 -139.2 C-1.68 -163.6, 20.83 -145.2, 26.27 -146.4 M-2.04 0 C-2.77 -23.2, -11.12 -114.8, -6.4 -139.2 C-1.68 -163.6, 20.83 -145.2, 26.27 -146.4" stroke="#000000" stroke-width="1" fill="none"></path></g><g transform="translate(270.1295737995198 341.7999954223633) rotate(0 9.220805350870819 -75.96479248046876)"><path d="M9.58 -145.36 C14.72 -145.68, 19.86 -146, 26.27 -146.4 M9.58 -145.36 C13.05 -145.58, 16.52 -145.79, 26.27 -146.4" stroke="#000000" stroke-width="1" fill="none"></path></g><g transform="translate(270.1295737995198 341.7999954223633) rotate(0 9.220805350870819 -75.96479248046876)"><path d="M12.81 -156.33 C16.96 -153.28, 21.1 -150.22, 26.27 -146.4 M12.81 -156.33 C15.61 -154.27, 18.41 -152.2, 26.27 -146.4" stroke="#000000" stroke-width="1" fill="none"></path></g></g><g stroke-linecap="round"><g transform="translate(239.60000610351562 342.60001373291016) rotate(0 -6.4000091552734375 100.75200195312499)"><path d="M0 0 C-2.27 30.53, -13.73 150.4, -13.6 183.2 C-13.47 216, -1.6 194.53, 0.8 196.8 M0 0 C-2.27 30.53, -13.73 150.4, -13.6 183.2 C-13.47 216, -1.6 194.53, 0.8 196.8" stroke="#000000" stroke-width="1" fill="none"></path></g><g transform="translate(239.60000610351562 342.60001373291016) rotate(0 -6.4000091552734375 100.75200195312499)"><path d="M-5.75 204.23 C-4.36 202.66, -2.97 201.08, 0.8 196.8 M-5.75 204.23 C-3.64 201.85, -1.54 199.46, 0.8 196.8" stroke="#000000" stroke-width="1" fill="none"></path></g><g transform="translate(239.60000610351562 342.60001373291016) rotate(0 -6.4000091552734375 100.75200195312499)"><path d="M-8.99 198.29 C-6.92 197.97, -4.84 197.66, 0.8 196.8 M-8.99 198.29 C-5.85 197.81, -2.71 197.33, 0.8 196.8" stroke="#000000" stroke-width="1" fill="none"></path></g></g><g stroke-linecap="round"><g transform="translate(386.79998779296875 342.60001373291016) rotate(0 37.769611328124995 50.51520458984376)"><path d="M0 0 C0.67 15.33, -9.07 75.6, 4 92 C17.07 108.4, 66 97.33, 78.4 98.4 M0 0 C0.67 15.33, -9.07 75.6, 4 92 C17.07 108.4, 66 97.33, 78.4 98.4" stroke="#000000" stroke-width="1" fill="none"></path></g><g transform="translate(386.79998779296875 342.60001373291016) rotate(0 37.769611328124995 50.51520458984376)"><path d="M50.94 110.48 C61.29 105.92, 71.65 101.37, 78.4 98.4 M50.94 110.48 C60.38 106.32, 69.83 102.17, 78.4 98.4" stroke="#000000" stroke-width="1" fill="none"></path></g><g transform="translate(386.79998779296875 342.60001373291016) rotate(0 37.769611328124995 50.51520458984376)"><path d="M49.6 90 C60.46 93.17, 71.32 96.33, 78.4 98.4 M49.6 90 C59.51 92.89, 69.41 95.78, 78.4 98.4" stroke="#000000" stroke-width="1" fill="none"></path></g></g></svg>
					---
					### Discrete Events
					```
					Increase each item's age every day
					```
					```
					Weekly stock clearout
					```
					```
					Random number of Sales per day
					```
					```
					New Purchase Orders
					```
					```
					Monitor
					```
					---
					## Live code time!
					---
					## Questions?
					---
					### Finding Optimal Solution
					axis per input of simulation

					<img height=350px alt="3d axes" src="https://www.mathworks.com/matlabcentral/mlc-downloads/downloads/6b528772-236f-46a7-ba3c-74fd81f08c39/66f8fd85-ee0a-4cb4-aaba-84b409113a99/images/screenshot.png"/>

					_Parameter Space_
					---
					### Finding Optimal Solution
					<img height=400px alt="grid search" src="https://maelfabien.github.io/assets/images/expl4_1.jpg"/>
					
					_expensive - time and cost_
					---
					## Random Search
					<img alt="grid vs random search" src="https://www.researchgate.net/profile/Karl-Ezra-Pilario/publication/341691661/figure/fig2/AS:896464364507139@1590745168758/Comparison-between-a-grid-search-and-b-random-search-for-hyper-parameter-tuning-The.png"/>
					
					_not learning, just guessing_
					---
					### Reinforcement Learning
					<img height=450px alt="Agent-Environment diagram" src="https://upload.wikimedia.org/wikipedia/commons/thumb/1/1b/Reinforcement_learning_diagram.svg/1024px-Reinforcement_learning_diagram.svg.png"/>
				</div>
					---
					<img alt="Restaurant menu" src="https://previews.123rf.com/images/marchie/marchie1611/marchie161100055/65931451-men%C3%BA-italiano-mantel-folleto-restaurante-de-comida-dise%C3%B1o-de-la-plantilla-vintage-volante-de-pizza-c.jpg">
					---
					## Epsilon Greedy
					exploit vs explore
					
					<img alt="epsilon greedy probabliilty algorithm" src="https://media.geeksforgeeks.org/wp-content/uploads/20200318200401/Screenshot-2020-03-18-at-8.03.38-PM.png"/>
					
					<!-- [_Further Reading_](https://www.cs.cmu.edu/~ebrun/15889e/lectures/Lecture_slides_10_26.pdf) -->
					---
					#### Agents in Reinforcement Learning
					<img height=450px alt="Agent-Environment diagram" src="https://upload.wikimedia.org/wikipedia/commons/thumb/1/1b/Reinforcement_learning_diagram.svg/1024px-Reinforcement_learning_diagram.svg.png"/>
					---
					## Actions
					Input-alterations navigating through Parameter Space 
					<img alt="vector cloud to represent actions-space" src="https://dev.pyvista.org/_images/sphx_glr_create-point-cloud_003.png"/>
					---
					## Reward
					_Domain-Specific_
					- Mean Square Difference from target
					- Cost of purchases minus penalty for out-of-stock
					---
					### Code
					---
					### Q & A
					---
					### lkst.uk/simpy
				</script>
			</section>
		</div>
	</div>

	<script src="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.2.1/reveal.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.2.1/plugin/markdown/markdown.min.js"></script>
	<script>
		Reveal.initialize({
			hash: true,
			plugins: [RevealMarkdown]
		});
		Reveal.addEventListener("ready", function addFragmentToLists() {
			for (const listItem of document.querySelectorAll("li, p, pre, img, g")) {
				listItem.classList.add("fragment");
			}
		});
	</script>
</body>

</html>